## 实验目的

1. 了解数据链路层协议构造

2. 学会利用ARP命令分析

## 实验内容

1. 对数据链路层协议进行捕包分析并回答问题
   - 启动浏览器并且清除缓存，以便实验的正确进行
   - 开始捕获并且通过浏览器向[http://gaia.cs.umass.edu/ethereal-labs/HTTP-ethereal-file3.html ](http://gaia.cs.umass.edu/ethereal-labs/HTTP-ethereal-file3.html 网址发出get)网址发出get请求
   - 停止捕获，根据捕包结果中的http请求与响应报文回答问题

2. ARP分析
   - 以管理员身份打开dos命令行窗口查询缓存
   - 利用arp -d * 命令清除ARP缓存
   - 启动浏览器并且清除缓存，以便实验的正确进行
   - 开始捕获并且通过浏览器向http://gaia.cs.umass.edu/ethereal-labs/HTTP-ethereal-file3.html网址发出get请求(注意这里的网址有错误，网址应该将ethereal字段改为wireshark)
   - 停止捕获，根据捕包结果中的arp请求与响应报文回答问题

## 实验结果

(1)   你的主机的48位以太网地址是多少？  

![img](https://s2.loli.net/2025/01/22/UqVWf4b8OQxTge6.jpg) 

 如图，为a0:80:69:ba:31:0a  

(2)   目标MAC是gaia.cs.umass.edu服务器的地址吗？如不是，该地址是什么设备的以太网地址？  

不是，由于我们不在一个局域网中，所以需要将请求发送至网关，所以该地址是网关地址。  

(3)   给出两种帧类型字段的十六进制值。标志字段的值是1的含义是什么？（答案不准确，自己写的）

  ![img](https://s2.loli.net/2025/01/22/U9KkFsuiDPETmbB.jpg)  

封装类型：Encapsulation type: Ethernet  (1)：以太网（Ethernet）是1 

(4)   在包含“get”以太网帧中，从该帧的起始处开始一共有多少个ASCII字符“G”？   由于G字符的16进制为0x47，故查找出47共3次

![img](https://s2.loli.net/2025/01/22/SUp8NFEz6QKVtkv.jpg)

(5)   在该以太网帧中CRC字段的十六进制值是多少？

  ![img](https://s2.loli.net/2025/01/22/oqzTgh5iOtNEeML.jpg) （好像找不到，随便写的，大概率是错的)  

(6)   以太网源地址是多少？该地址是你主机的地址吗？是gaia.cs.umass.edu服务器的地址吗？如果不是，该地址是什么设备的以太网地址？  

58:69:6c:a6:8f:09，不是，是gaia.cs.umass.edu服务器的地址  

(7)   以太网帧的48位目的地址是多少？该地址是你主机的地址吗？  

a0:80:69:ba:31:0a，是  

(8)   给出两种帧类型字段的十六进制值。标志字段的值是1的含义是什么？ （答案不准确，自己写的） 

![img](https://s2.loli.net/2025/01/22/bZ8ayqxRNB5FdKW.jpg)  

封装类型：Encapsulation type: Ethernet  (1)：以太网（Ethernet）是1  

(9)   在包含“OK”以太网帧中，从该帧的起始处开始一共有多少个ASCII字符“O”？   5个  

(10) 在该以太网帧中CRC字段的十六进制值是多少？  

![img](https://s2.loli.net/2025/01/22/uwYiNr9mZv6KsyQ.png)  （好像找不到，随便写的，大概率是错的)  

(11) 写下你主机ARP缓存中的内容。其中每一列的含义是什么？  

![img](https://s2.loli.net/2025/01/22/WSaI5kNE1J4pdje.jpg)  

Internet地址，物理地址，类型  

(12) 包含ARP请求报文的以太网帧的源地址和目的地址的十六进制值各是多少？  

Src: 58:69: 6c: a6: 8f: 09 ，dest: a0:80:69:ba:31:0a

![img](https://s2.loli.net/2025/01/22/PbAdfLJ8p7vUkGm.jpg)     

(13) 给出两种帧类型字段的十六进制值。标志字段的值是1的含义是什么？（答案不准确，自己写的）

![img](https://s2.loli.net/2025/01/22/onm3SHdWkUewO5v.jpg)  

封装类型：Encapsulation type: Ethernet  (1)：以太网（Ethernet）是1  

(14) 从ftp://ftp.rfc-editor.org/innotes/std/std37.txt处下载ARP规范说明。在http://www.erg.abdn.ac.uk/users/gorry/course/inet-pages/arp.html处也有一个可读的关于ARP的讨论网页。根据操作回答：  

​	1)  形成ARP响应报文的以太网帧中ARP-payload部分opcode字段的值是多少？Reply(2) 

​	  ![img](https://s2.loli.net/2025/01/22/ym2ohFOMY659VLB.jpg) 	

​	2)  在ARP报文中是否包含发送方的IP地址？ 是

(15) 包含ARP回答报文的以太网帧中源地址和目的地址的十六进制值各是多少？

源地址：0:80:69:ba:31:0a  目的地址：de:54:1e:66:06:1a 