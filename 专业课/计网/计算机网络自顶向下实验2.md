## 实验目的

1. 熟悉捕包软件的使用，了解TCP套接字及UDP套接字的实现
2. 分析HTTP协议

3. 分析DNS协议

## 实验内容

1. HTTP GET/response交互，根据文档的步骤，按照要求启动软件以及get请求，记录这一过程，回答末尾问题

2. 清空DNS缓存后按照文档要求，分析DNS协议，回答末尾问题

## 实验结果

 回答问题：  

（1）你的浏览器运行的是HTTP1.0，还是HTTP1.1？你所访问的服务器所运行的HTTP版本号是多少？

- HTTP1.1  HTTP1.1  ![img](https://s2.loli.net/2025/01/22/Xu9xIJKnVTwAWzt.png)  

（3）你的计算机的IP地址是多少？服务器gaia.cs.umass.edu的IP地址是多少？

- 我的计算机的IP是10.236.92.95  服务器的IP 是128.119.245.12  

（4）从服务器向你的浏览器返回的状态代码是多少？

- 200 OK  

（7）分析你的浏览器向服务器发出的第一个HTTP GET请求的内容，在该请求报文中，是否有一行是：IF-MODIFIED-SINCE？

- 没有  

（8）分析服务器响应报文的内容，服务器是否明确返回了文件的内容？如何获知？

- 是，HTTP响应报文中的状态码为200  OK，表示请求信息在响应报文中返回  

（10）服务器对第二个HTTP GET请求的响应中的HTTP状态代码是多少？服务器是否明确返回了文件的内容？请解释。  

- 304 Not Modified 没有明确返回文件内容，因为在上次请求响应阶段本地已经缓存了访问的资源    
- <img src="https://s2.loli.net/2025/01/22/1T5Ab2qoaK8Os63.png" alt="img" style="zoom:120%;" />

（11）你的浏览器一共发出了多少个HTTP GET请求？2次  

- ![img](https://s2.loli.net/2025/01/22/3D8fZoUFOKMvTjg.png)  

（13）与这个HTTP GET请求相对应的响应报文的状态代码和状态短语是什么？200 OK  

（14）你的浏览器一共发出了多少个HTTP GET请求？这些请求被发送到的目的地的IP地址是多少？

- 3次 128.119.245.12 
-  ![img](https://s2.loli.net/2025/01/22/I6hje8SalJYMQEq.jpg)  

（18）定位到DNS查询报文和查询响应报文，这两种报文的发送是基于UDP还是基于TCP的？ UDP

- ![img](https://s2.loli.net/2025/01/22/NHlKmD8xCnqUwA3.jpg)  

（19）DNS查询报文的目的端口号是多少？DNS查询响应报文的源端口号是多少？53 53  

-   ![img](https://s2.loli.net/2025/01/22/cPQC8jN7dFE3iYh.png)

（20）DNS查询报文发送的目的地的IP地址是多少？利用ipconfig命令（ipconfig/all）决定你主机的本地DNS服务器的IP地址。这两个地指相同吗？218.201.96.130 相同  

- ![img](https://s2.loli.net/2025/01/22/KEztfTyQZ3Xm7p5.png)  

（21）检查DNS查询报文，它是哪一类型的DNS查询？该查询报文中包含“answers”吗？type A 不包含 

- ![img](https://s2.loli.net/2025/01/22/Gf5UaLsytSPDCIA.png) 

（22）检查DNS查询响应报文，其中提供了多少个“answers”？每个answers包含哪些内容？ 2 如图  

-   <img src="https://s2.loli.net/2025/01/22/cviJOyqEUrusPNR.png" alt="image-20250122163507567" style="zoom:80%;" />

（23）考虑一下你的主机发送的subsequent(并发)TCP SYN分组， SYN分组的目的IP地址是否与在DNS查询响应报文中提供的某个IP地址相对应？  

- 是的，是相对应的  

（24）打开的WEB页中包含图片，在获取每一个图片之前，你的主机发出新的DNS查询了吗？

- 没有  

（25）DNS查询报文的目的端口号是多少？DNS查询响应报文的源端口号是多少？53 53  

- ![img](https://s2.loli.net/2025/01/22/Ty513ZmsA9OiaG2.png)  

（26）DNS查询报文发送的目的地的IP地址是多少？这个地址是你的默认本地DNS服务器的地址吗？ 

- 218.201.96.130 是  

（27）检查DNS查询报文，它是哪一类型的DNS查询？该查询报文中包含“answers”吗？  

- A类 不包含  

（28）检查DNS查询响应报文，其中提供了多少个“answers”？每个answers包含哪些内容？

- 4 如图  ![img](https://s2.loli.net/2025/01/22/KvqCU8BiuSD7lze.png)  

（29）DNS查询报文发送的目的地的IP地址是多少？这个地址是你的默认本地DNS服务器的地址吗？

- 218.201.96.130，是  

（30）检查DNS查询报文，它是哪一类型的DNS查询？该查询报文中包含“answers”吗？A类  不包含  

（31）检查DNS查询响应报文，其中响应报文提供了哪些MIT名称服务器？响应报文提供这些MIT名称服务器的IP地址了吗？

- 没有  ![img](https://s2.loli.net/2025/01/22/rvU18uMTVhszWY5.png)  

（32）DNS查询报文发送的目的地的IP地址是多少？这个地址是你的默认本地DNS服务器的地址吗？如果不是，这个IP地址相当于什么？
- 是  ![img](https://s2.loli.net/2025/01/22/EnlCkeH1TvSwbVz.png)  

（33）检查DNS查询报文，它是哪一类型的DNS查询？该查询报文中包含“answers”吗？
- A类 0  ![img](https://s2.loli.net/2025/01/22/oapiDV2Fy7lEU4b.png)  

（34）检查DNS查询响应报文，其中提供了多少个“answers”？每个answers包含哪些内容？
- 1个，如图：  ![img](https://s2.loli.net/2025/01/22/QweNapMlYKbEU8h.png)     